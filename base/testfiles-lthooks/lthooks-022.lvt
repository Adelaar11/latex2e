\RequirePackage[enable-debug]{expl3}
\ExplSyntaxOn
\debug_on:n { check-declarations , deprecation }
\ExplSyntaxOff

\documentclass{article}

\input{regression-test}


\START
\NewHook{foo}
\AddToHook{foo}[label-A]{\typeout{A-code}}
\AddToHook{foo}[label-B]{\typeout{B-code}}
\AddToHook{foo}[label-C]{\typeout{C-code}}

\DeclareHookRule{foo}{label-A}{removes}{label-B}
\ShowHook{foo}

\DeclareHookRule{foo}{label-A}{incompatible-warning}{label-B}
\ShowHook{foo}

\DeclareHookRule{foo}{label-A}{unrelated}{label-B}
\ShowHook{foo}

\DeclareHookRule{foo}{label-B}{before}{label-A}
\ShowHook{foo}



\OMIT
\begin{document}
\TIMO

\ShowHook{foo}

\UseHook{foo}
\END
